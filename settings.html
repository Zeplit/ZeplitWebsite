<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zeplit | Settings</title>
    <link rel="icon" type="image/x-icon" href="Downloads/favicon.ico">
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Additional styles for the color picker and button */
        .color-picker-container {
            margin-top: 20px;
        }
        .color-picker {
            width: 100px;
            height: 30px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 10px;
        }
        .default-color-button {
            padding: 5px 10px;
            background-color: #007bff; /* Blue color */
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>

<div class="banner">
    <div class="logo">
        <a href="/">🏠 Home</a>
        <a class="settings-link" href="settings.html">⚙️</a> <!-- Settings icon -->
    </div>
    <div>
        <a class="nav-link" href="about.html">📝 About</a>
        <a class="zeplit-client-link" href="https://zeplit-scratch.vercel.app/" target="_blank">🛠️ Zeplit Client</a>
    </div>
</div>

<div class="container">
    <div class="header">
        <h1>Settings</h1>
    </div>

    <div class="content">
        <p>Change Navbar Banner Color:</p>
        <div class="color-picker-container">
            <input type="color" class="color-picker" id="navbar-color-picker">
            <button class="default-color-button" id="default-color-button">Default Color</button> <!-- Button for default color -->
        </div>
    </div>
</div>

<script>
    // JavaScript to handle color change, default color button, and dynamic button text color
    const navbarColorPicker = document.getElementById('navbar-color-picker');
    const defaultColorButton = document.getElementById('default-color-button');
    const banner = document.querySelector('.banner');

    // Retrieve saved color from localStorage, if available
    const savedColor = localStorage.getItem('navbarColor');
    if (savedColor) {
        banner.style.backgroundColor = savedColor;
        navbarColorPicker.value = savedColor;
        updateButtonTextColor(savedColor);
    }

    // Event listener for color picker
    navbarColorPicker.addEventListener('input', function() {
        const color = this.value;
        banner.style.backgroundColor = color;
        updateButtonTextColor(color);
        localStorage.setItem('navbarColor', color); // Save color to localStorage
    });

    // Event listener for default color button
    defaultColorButton.addEventListener('click', function() {
        const defaultColor = '#007bff'; // Blue color
        banner.style.backgroundColor = defaultColor;
        navbarColorPicker.value = defaultColor;
        updateButtonTextColor(defaultColor);
        localStorage.setItem('navbarColor', defaultColor); // Save default color to localStorage
    });

    // Function to update button text color based on background color brightness
    function updateButtonTextColor(color) {
        const [r, g, b] = hexToRgb(color);
        const brightness = Math.round((r * 299 + g * 587 + b * 114) / 1000);
        const buttons = document.querySelectorAll('.nav-link, .zeplit-client-link');
        for (let button of buttons) {
            button.style.color = brightness > 125 ? '#000' : '#fff'; // Set text color based on brightness
        }
    }

    // Function to convert hex color to RGB values
    function hexToRgb(hex) {
        const bigint = parseInt(hex.slice(1), 16);
        const r = (bigint >> 16) & 255;
        const g = (bigint >> 8) & 255;
        const b = bigint & 255;
        return [r, g, b];
    }
</script>

</body>
</html>
